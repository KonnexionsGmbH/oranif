{deps_error_on_conflict, true}.
{erl_opts, [debug_info]}.

{eunit_opts, [{skip_deps, true}, verbose]}.

{pre_hooks, [
  {"(win32)", compile, "nmake -F c_src/Makefile.win32"},
  {"(linux|darwin)",  compile, "make -f c_src/Makefile"}
]}.

{post_hooks, [
  {"(win32)", clean, "nmake -F c_src/Makefile.win32 clean"},
  {"(linux|darwin)",  clean, "make -f c_src/Makefile clean"}
]}.

{profiles, [
  {test, [{dist_node, [{setcookie, 'testcookie'}, {name, 'tstnd@127.0.0.1'}]}]},
  {lcov, [
    {pre_hooks, [
      {"(linux|darwin)",  compile, "make -f c_src/Makefile cover"},
      {"(linux|darwin)",  eunit, "lcov --directory . --zerocounters"}
    ]},
    {post_hooks, [{"(linux|darwin)", eunit, "bash cover_script"}]}
  ]}
]}.
